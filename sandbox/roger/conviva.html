<!DOCTYPE html>
<html>
<head>
    <title>Player Example</title>
    <script type="application/javascript" src="//s0.2mdn.net/instream/html5/ima3.js"></script>
    <script src="//0.0.0.0:8000/build/CBSI-PLAYER.max.js"></script>
    <script type="text/javascript" src="script/uvpjs-builder.js"></script>
    <script type="text/javascript" src="script/uvpc-conviva.js"></script>
</head>
<body>
    <div id="myVideoContainer" style="max-width: 768px;"></div>
</body>
<script type="text/javascript">
//var PREVIEW_IMAGE = '//vidtech.cbsinteractive.com/skins/ui/imgs/poster.jpg';
var PREVIEW_IMAGE = '//cnet2.cbsistatic.com/img/xhT2E9JH6x380i0YQzrYQx-OROs=/770x433/2017/03/16/41a9fd65-d1a7-479c-a862-d00cc81146f4/news0316drone.jpg';
//var ASSET_URL = 'https://cbssportsdc-i.akamaihd.net/hls/live/518856/dc_1/master.m3u8';
//var ASSET_URL = 'http://www.streambox.fr/playlists/test_001/stream.m3u8';
var ASSET_URL = 'https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8';
var uvpjsPlayer;

var onVideoPlayerReady = (videoPlayer) => {
    var events = videoPlayer.eventsMgr.eventTypes;
    uvpjsPlayer = videoPlayer;

    /* Register for UVPJS Events */
    uvpjsPlayer.on(events.CONTENT_START, e => {

    });
};

uvpjs.player()
    .id('myVideoContainer')
    .sessionOptions({
        partner: "cnet",
        netwk: "cnet",
        cms: "platform",
        usesIMA: true,
        skin: true,
        autoPlay: false,
        previewImage: PREVIEW_IMAGE,
        uvpc: uvpc_conviva,
        useDynamicSwitching: false,
        capLevelToPlayerSize: true,
        userConnectionType: 'wifi'
        //userCountry: 'us'
    })
    .rco({
        videoTitle: 'CBSSports',
        vidContId: 'myVideoContainer',
        type: uvpjs.mediaCapabilities.RP_URL,
        assetURL: ASSET_URL,
        isLive: false
    })
    .onReady(onVideoPlayerReady)
    .onError(e => console.log('[Error]', e))
    .loadAndPlay();
</script>
</html>
